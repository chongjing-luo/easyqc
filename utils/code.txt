# 同时用MRIcroGL打开剥颅骨和freesurfer打开皮层重建
MULTILINE TMP=$(mktemp /tmp/mgl.XXXXXX); TMP="$TMP.py"; printf 'import gl\ngl.windowposition(0,0,1400,1000)\ngl.loadimage("{subjects_dir}/{ezqcid}/mri/orig/001.mgz")\ngl.overlayload("{subjects_dir}/{ezqcid}/mri/mask.nii.gz")\ngl.opacity(1,30)\n' > "$TMP"; /Applications/MRIcroGL.app/Contents/MacOS/MRIcroGL "$TMP"; rm -f "$TMP";|freeview --layout 4 --viewsize 400 300 -viewport axial -v ${subjects_dir}/${ezqcid}/mri/brainmask.mgz:opacity=1:grayscale=0,138 -zoom 1.3 -f ${subjects_dir}/${ezqcid}/surf/lh.pial:edgecolor=overlay:annot=${subjects_dir}/${ezqcid}/label/lh.aparc.annot ${subjects_dir}/${ezqcid}/surf/rh.pial:edgecolor=overlay:annot=${subjects_dir}/${ezqcid}/label/rh.aparc.annot ${subjects_dir}/${ezqcid}/surf/lh.white:edgecolor=overlay:annot=${subjects_dir}/${ezqcid}/label/lh.aparc.annot ${subjects_dir}/${ezqcid}/surf/rh.white:edgecolor=overlay:annot=${subjects_dir}/{ezqcid}/label/rh.aparc.annot --hide-3d-slices

# =======   用MRIcroGL打开nii文件并增加overlay，设置overlay的颜色和透明度  ========
TMP=$(mktemp /tmp/mgl.XXXXXX); TMP="$TMP.py"; \
printf 'import gl\ngl.windowposition(0,0,1400,1000)\ngl.loadimage("/Users/luochongjing/Projects/easyqc/main/mridata/SUBJECTS_DIRs/CCNPPEKI00001_02/mri/orig/001.mgz")\ngl.overlayload("/Users/luochongjing/Projects/easyqc/main/mridata/SUBJECTS_DIRs/CCNPPEKI00001_02/mri/mask.nii.gz")\ngl.opacity(1,30)\n' > "$TMP"; \
/Applications/MRIcroGL.app/Contents/MacOS/MRIcroGL "$TMP"; \
rm -f "$TMP"

TMP=$(mktemp /tmp/mgl.XXXXXX); TMP="$TMP.py"; printf 'import gl\ngl.windowposition(0,0,1400,1000)\ngl.loadimage("{subjects_dir}/{ezqcid}/mri/orig/001.mgz")\ngl.overlayload("{subjects_dir}/{ezqcid}/mri/mask.nii.gz")\ngl.opacity(1,30)\n' > "$TMP"; /Applications/MRIcroGL.app/Contents/MacOS/MRIcroGL "$TMP"; rm -f "$TMP"